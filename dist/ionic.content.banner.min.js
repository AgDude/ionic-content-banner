angular.module("jett.ionic.content.banner",["ionic"]),function(n){"use strict";n.module("jett.ionic.content.banner").directive("ionContentBanner",["$interval",function(n){return{restrict:"E",scope:!0,link:function(e,t){var o;e.currentIndex=0,e.text.length>1&&(o=n(function(){e.currentIndex=e.currentIndex<e.text.length-1?e.currentIndex+1:0},e.interval)),e.$on("$destroy",function(){t.remove(),o&&n.cancel(o)})},template:'<div class="content-banner-text-wrapper"><div ng-repeat="item in text track by $index" ng-class="{active: $index === currentIndex}" class="content-banner-text" ng-bind="item"></div></div><button class="content-banner-close button button-icon icon {{::icon}}" ng-click="close()"></button>'}}])}(angular),function(n,e){"use strict";n.module("jett.ionic.content.banner").factory("$ionicContentBanner",["$document","$rootScope","$compile","$timeout","$ionicPlatform","$log",function(t,o,i,r,c,a){function l(n){for(;null!==n&&"BODY"!==n.nodeName;){var e=n.getAttribute("nav-view");if(null!==e&&"cached"===e)return!1;n=n.parentNode}return!0}function u(e){var t=e.querySelector('ion-modal-view[class*="ng-enter-active"]');if(null!=t&&!n.element(t).hasClass("ng-leave"))return t;var o=e.querySelectorAll('ion-view[nav-view="active"]');return 1===o.length?o[0]:Array.prototype.slice.call(o).filter(function(n){return l(n)})[0]}function s(n){b[m]=n,n.bannerCacheIndex=m,m++}function d(){r(function(){n.forEach(b,function(n){n.close()})})}function f(l){var d=o.$new(!0);n.extend(d,{icon:"ion-ios-close-empty",transition:"vertical",interval:7e3,type:"info",$deregisterBackButton:n.noop,closeOnStateChange:!0,autoClose:null,position:null},l);var f="content-banner-transition-"+d.transition,v="content-banner "+d.type;"bottom"===d.position&&(v+=" content-banner-bottom","vertical"===d.transition&&(f+="-bottom")),v+=" "+f;var m=d.element=i('<ion-content-banner class="'+v+'"></ion-content-banner>')(d),g=t[0].body,p=d.closeOnStateChange?o.$on("$stateChangeSuccess",function(){d.close()}):n.noop;return d.$deregisterBackButton=c.registerBackButtonAction(function(){r(d.close)},300),d.close=function(){d.removed||(d.removed=!0,e.requestAnimationFrame(function(){m.removeClass("content-banner-in"),r(function(){d.$destroy(),m.remove(),g=p=null},400)}),delete b[d.bannerCacheIndex],d.$deregisterBackButton(),p())},d.show=function(){if(!d.removed){var t=u(g);if(n.isUndefined(t))return void a.info("content banner failed to show (no view):"+l.text[0]);t.querySelector(".scroll-content").appendChild(m[0]),e.requestAnimationFrame(function(){r(function(){m.addClass("content-banner-in"),d.autoClose&&r(function(){d.close()},d.autoClose,!1)},20)})}},r(function(){d.show()},30,!1),d.close.$scope=d,s(d),d.close}var v,m=0,b={},g=function(e,t){n.isString(t)&&(t={type:t});var o=n.extend({text:[e],position:"bottom",autoClose:3e3,icon:""},t);return n.isDefined(v)&&v(),v=f(o)};return{show:f,quick:g,closeAll:d}}])}(angular,ionic);