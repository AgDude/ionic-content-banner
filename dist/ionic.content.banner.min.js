angular.module("jett.ionic.content.banner",["ionic"]),function(n){"use strict";n.module("jett.ionic.content.banner").directive("ionContentBanner",["$interval",function(n){return{restrict:"E",scope:!0,link:function(t,e){var o;t.currentIndex=0,t.text.length>1&&(o=n(function(){t.currentIndex=t.currentIndex<t.text.length-1?t.currentIndex+1:0},t.interval)),t.$on("$destroy",function(){e.remove(),o&&n.cancel(o)})},template:'<div class="content-banner-text-wrapper"><div ng-repeat="item in text track by $index" ng-class="{active: $index === currentIndex}" class="content-banner-text" ng-bind="item"></div></div><button class="content-banner-close button button-icon icon {{::icon}}" ng-click="close()"></button>'}}])}(angular),function(n,t){"use strict";n.module("jett.ionic.content.banner").factory("$ionicContentBanner",["$document","$rootScope","$compile","$timeout","$ionicPlatform",function(e,o,i,c,r){function a(n){for(;null!==n&&"BODY"!==n.nodeName;){var t=n.getAttribute("nav-view");if(null!==t&&"cached"===t)return!1;n=n.parentNode}return!0}function u(n){var t=n.querySelectorAll('ion-view[nav-view="active"]');return 1===t.length?t[0]:Array.prototype.slice.call(t).filter(function(n){return a(n)})[0]}function l(n){b[v]=n,n.bannerCacheIndex=v,v++}function s(){c(function(){n.forEach(b,function(n){n.close()})})}function d(a){var s=o.$new(!0);n.extend(s,{icon:"ion-ios-close-empty",transition:"vertical",interval:7e3,type:"info",$deregisterBackButton:n.noop,closeOnStateChange:!0,autoClose:null,position:null},a);var d="content-banner-transition-"+s.transition,f="content-banner "+s.type;"bottom"===s.position&&(f+=" content-banner-bottom","vertical"===s.transition&&(d+="-bottom")),f+=" "+d;var v=s.element=i('<ion-content-banner class="'+f+'"></ion-content-banner>')(s),m=e[0].body,p=s.closeOnStateChange?o.$on("$stateChangeSuccess",function(){s.close()}):n.noop;return s.$deregisterBackButton=r.registerBackButtonAction(function(){c(s.close)},300),s.close=function(){s.removed||(s.removed=!0,t.requestAnimationFrame(function(){v.removeClass("content-banner-in"),c(function(){s.$destroy(),v.remove(),m=p=null},400)}),delete b[s.bannerCacheIndex],s.$deregisterBackButton(),p())},s.show=function(){s.removed||(u(m).querySelector(".scroll-content").appendChild(v[0]),t.requestAnimationFrame(function(){c(function(){v.addClass("content-banner-in"),s.autoClose&&c(function(){s.close()},s.autoClose,!1)},20)}))},c(function(){s.show()},10,!1),s.close.$scope=s,l(s),s.close}var f,v=0,b={},m=function(t,e){n.isString(e)&&(e={type:e});var o=n.extend({text:[t],position:"bottom",autoClose:3e3,icon:""},e);return n.isDefined(f)&&f(),f=d(o)};return{show:d,quick:m,closeAll:s}}])}(angular,ionic);